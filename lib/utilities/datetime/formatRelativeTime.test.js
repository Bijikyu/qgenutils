const{default:formatRelativeTime}=require('./formatRelativeTime'),{default:createTimeProvider}=require('./createTimeProvider');describe('formatRelativeTime',()=>{const fixedNow=new Date('2024-01-15T12:00:00Z'),provider=createTimeProvider(()=>fixedNow);it('should return "just now" for times within 5 seconds',()=>{const time=new Date('2024-01-15T11:59:58Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('just now')});it('should format seconds ago',()=>{const time=new Date('2024-01-15T11:59:30Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('30 seconds ago')});it('should format minutes ago',()=>{const time=new Date('2024-01-15T11:55:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('5 minutes ago')});it('should format 1 minute ago(singular)',()=>{const time=new Date('2024-01-15T11:59:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('1 minute ago')});it('should format hours ago',()=>{const time=new Date('2024-01-15T09:00:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('3 hours ago')});it('should format 1 hour ago(singular)',()=>{const time=new Date('2024-01-15T11:00:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('1 hour ago')});it('should format days ago',()=>{const time=new Date('2024-01-12T12:00:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('3 days ago')});it('should format weeks ago',()=>{const time=new Date('2024-01-01T12:00:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('2 weeks ago')});it('should format months ago',()=>{const time=new Date('2023-11-15T12:00:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('2 months ago')});it('should format years ago',()=>{const time=new Date('2022-01-15T12:00:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('2 years ago')});it('should format future times with "in"',()=>{const time=new Date('2024-01-15T15:00:00Z').toISOString();expect(formatRelativeTime(time,provider)).toBe('in 3 hours')});it('should return N/A for null input',()=>{expect(formatRelativeTime(null,provider)).toBe('N/A')});it('should return N/A for empty string',()=>{expect(formatRelativeTime('',provider)).toBe('N/A')});it('should return N/A for invalid date',()=>{expect(formatRelativeTime('not-a-date',provider)).toBe('N/A')});it('should work without provider(uses current time)',()=>{const recentTime=new Date(Date.now()- 30000).toISOString(),result=formatRelativeTime(recentTime);expect(result).toMatch(/seconds ago|just now/)})});
