const formatDurationWithProvider=require('./formatDurationWithProvider'),createTimeProvider=require('./createTimeProvider');describe('formatDurationWithProvider',()=>{const fixedNow=new Date('2024-01-15T12:00:00Z'),provider=createTimeProvider(()=>fixedNow);it('should calculate duration between two times',()=>{const start ='2024-01-15T10:00:00Z',end ='2024-01-15T12:30:45Z';expect(formatDurationWithProvider(start,end)).toBe('02:30:45')});it('should use provider for current time when end not specified',()=>{const start ='2024-01-15T10:00:00Z';expect(formatDurationWithProvider(start,null,provider)).toBe('02:00:00')});it('should return 00:00:00 for null start time',()=>{expect(formatDurationWithProvider(null)).toBe('00:00:00')});it('should return 00:00:00 for empty start time',()=>{expect(formatDurationWithProvider('')).toBe('00:00:00')});it('should return 00:00:00 for invalid start time',()=>{expect(formatDurationWithProvider('not-a-date')).toBe('00:00:00')});it('should return 00:00:00 for invalid end time',()=>{expect(formatDurationWithProvider('2024-01-15T10:00:00Z','not-a-date')).toBe('00:00:00')});it('should handle duration less than a minute',()=>{const start ='2024-01-15T11:59:15Z';expect(formatDurationWithProvider(start,null,provider)).toBe('00:00:45')});it('should handle duration less than an hour',()=>{const start ='2024-01-15T11:30:00Z';expect(formatDurationWithProvider(start,null,provider)).toBe('00:30:00')});it('should handle large durations',()=>{const start ='2024-01-14T00:00:00Z';expect(formatDurationWithProvider(start,null,provider)).toBe('36:00:00')});it('should handle absolute difference(end before start)',()=>{const start ='2024-01-15T14:00:00Z';expect(formatDurationWithProvider(start,null,provider)).toBe('02:00:00')})});