const { default: createHttpConfig } = require('./createHttpConfig'),{ default: getContextualTimeout }=require('./getContextualTimeout');describe('createHttpConfig',()=>{it('should create basic config with http-api default timeout',()=>{const config=createHttpConfig();expect(config.timeout).toBe(getContextualTimeout('http-api'));expect(config.timeout).toBe(30000);expect(config.headers['Content-Type']).toBe('application/json');expect(config.auth).toBeUndefined()});it('should include auth when API key provided',()=>{const config=createHttpConfig('my-api-key');expect(config.auth.username).toBe('anystring');expect(config.auth.password).toBe('my-api-key')});it('should merge additional headers',()=>{const config=createHttpConfig(null,{'X-Custom': 'value'});expect(config.headers['X-Custom']).toBe('value');expect(config.headers['Content-Type']).toBe('application/json')});it('should use custom timeout',()=>{const config=createHttpConfig(null,null,60000);expect(config.timeout).toBe(60000)});it('should create complete config with all options',()=>{const config=createHttpConfig('secret-key',{'Authorization': 'Bearer token'},30000);expect(config.auth.password).toBe('secret-key');expect(config.headers['Authorization']).toBe('Bearer token');expect(config.timeout).toBe(30000)})});
