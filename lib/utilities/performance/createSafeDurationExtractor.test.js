const createSafeDurationExtractor=require(./createSafeDurationExtractor);describe('createSafeDurationExtractor',()=>{it('should return a function',()=>{const extractor=createSafeDurationExtractor({});expect(typeof extractor).toBe('function')});it('should extract duration from valid timer',()=>{const timer ={elapsed:()=>5000},extractor=createSafeDurationExtractor(timer);expect(extractor()).toBe(5000)});it('should return 0 for undefined timer',()=>{const extractor=createSafeDurationExtractor(undefined);expect(extractor()).toBe(0)});it('should return 0 for null timer',()=>{const extractor=createSafeDurationExtractor(null);expect(extractor()).toBe(0)});it('should return 0 for timer without elapsed method',()=>{const extractor=createSafeDurationExtractor({});expect(extractor()).toBe(0)});it('should return 0 when timer.elapsed throws',()=>{const timer ={elapsed:()=>{throw new Error('fail')}},extractor=createSafeDurationExtractor(timer);expect(extractor()).toBe(0)});it('should capture timer reference at creation time',()=>{let value=100;const timer ={elapsed:()=>value},extractor=createSafeDurationExtractor(timer);expect(extractor()).toBe(100);value=200;expect(extractor()).toBe(200)})});