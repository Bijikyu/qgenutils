da7b34bb8bb5311c893784f4ad2130d7
const {
  default: formatDurationWithProvider
} = require('./formatDurationWithProvider');
const {
  default: createTimeProvider
} = require('./createTimeProvider');
describe('formatDurationWithProvider', () => {
  const fixedNow = new Date('2024-01-15T12:00:00Z');
  const provider = createTimeProvider(() => fixedNow);
  it('should calculate duration between two times', () => {
    const start = '2024-01-15T10:00:00Z';
    const end = '2024-01-15T12:30:45Z';
    expect(formatDurationWithProvider(start, end)).toBe('02:30:45');
  });
  it('should use provider for current time when end not specified', () => {
    const start = '2024-01-15T10:00:00Z';
    expect(formatDurationWithProvider(start, null, provider)).toBe('02:00:00');
  });
  it('should return 00:00:00 for null start time', () => {
    expect(formatDurationWithProvider(null)).toBe('00:00:00');
  });
  it('should return 00:00:00 for empty start time', () => {
    expect(formatDurationWithProvider('')).toBe('00:00:00');
  });
  it('should return 00:00:00 for invalid start time', () => {
    expect(formatDurationWithProvider('not-a-date')).toBe('00:00:00');
  });
  it('should return 00:00:00 for invalid end time', () => {
    expect(formatDurationWithProvider('2024-01-15T10:00:00Z', 'not-a-date')).toBe('00:00:00');
  });
  it('should handle duration less than a minute', () => {
    const start = '2024-01-15T11:59:15Z';
    expect(formatDurationWithProvider(start, null, provider)).toBe('00:00:45');
  });
  it('should handle duration less than an hour', () => {
    const start = '2024-01-15T11:30:00Z';
    expect(formatDurationWithProvider(start, null, provider)).toBe('00:30:00');
  });
  it('should handle large durations', () => {
    const start = '2024-01-14T00:00:00Z';
    expect(formatDurationWithProvider(start, null, provider)).toBe('36:00:00');
  });
  it('should handle absolute difference(end before start)', () => {
    const start = '2024-01-15T14:00:00Z';
    expect(formatDurationWithProvider(start, null, provider)).toBe('02:00:00');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwiZm9ybWF0RHVyYXRpb25XaXRoUHJvdmlkZXIiLCJyZXF1aXJlIiwiY3JlYXRlVGltZVByb3ZpZGVyIiwiZGVzY3JpYmUiLCJmaXhlZE5vdyIsIkRhdGUiLCJwcm92aWRlciIsIml0Iiwic3RhcnQiLCJlbmQiLCJleHBlY3QiLCJ0b0JlIl0sInNvdXJjZXMiOlsiZm9ybWF0RHVyYXRpb25XaXRoUHJvdmlkZXIudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGRlZmF1bHQ6IGZvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyIH0gPSByZXF1aXJlKCcuL2Zvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyJyk7XG5jb25zdCB7IGRlZmF1bHQ6IGNyZWF0ZVRpbWVQcm92aWRlciB9ID0gcmVxdWlyZSgnLi9jcmVhdGVUaW1lUHJvdmlkZXInKTtcblxuZGVzY3JpYmUoJ2Zvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyJywgKCkgPT4ge1xuICBjb25zdCBmaXhlZE5vdyA9IG5ldyBEYXRlKCcyMDI0LTAxLTE1VDEyOjAwOjAwWicpO1xuICBjb25zdCBwcm92aWRlciA9IGNyZWF0ZVRpbWVQcm92aWRlcigoKSA9PiBmaXhlZE5vdyk7XG5cbiAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgZHVyYXRpb24gYmV0d2VlbiB0d28gdGltZXMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSAnMjAyNC0wMS0xNVQxMDowMDowMFonO1xuICAgIGNvbnN0IGVuZCA9ICcyMDI0LTAxLTE1VDEyOjMwOjQ1Wic7XG4gICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyKHN0YXJ0LCBlbmQpKS50b0JlKCcwMjozMDo0NScpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHVzZSBwcm92aWRlciBmb3IgY3VycmVudCB0aW1lIHdoZW4gZW5kIG5vdCBzcGVjaWZpZWQnLCAoKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSAnMjAyNC0wMS0xNVQxMDowMDowMFonO1xuICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbldpdGhQcm92aWRlcihzdGFydCwgbnVsbCwgcHJvdmlkZXIpKS50b0JlKCcwMjowMDowMCcpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJldHVybiAwMDowMDowMCBmb3IgbnVsbCBzdGFydCB0aW1lJywgKCkgPT4ge1xuICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbldpdGhQcm92aWRlcihudWxsKSkudG9CZSgnMDA6MDA6MDAnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZXR1cm4gMDA6MDA6MDAgZm9yIGVtcHR5IHN0YXJ0IHRpbWUnLCAoKSA9PiB7XG4gICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyKCcnKSkudG9CZSgnMDA6MDA6MDAnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZXR1cm4gMDA6MDA6MDAgZm9yIGludmFsaWQgc3RhcnQgdGltZScsICgpID0+IHtcbiAgICBleHBlY3QoZm9ybWF0RHVyYXRpb25XaXRoUHJvdmlkZXIoJ25vdC1hLWRhdGUnKSkudG9CZSgnMDA6MDA6MDAnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZXR1cm4gMDA6MDA6MDAgZm9yIGludmFsaWQgZW5kIHRpbWUnLCAoKSA9PiB7XG4gICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyKCcyMDI0LTAxLTE1VDEwOjAwOjAwWicsICdub3QtYS1kYXRlJykpLnRvQmUoJzAwOjAwOjAwJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGR1cmF0aW9uIGxlc3MgdGhhbiBhIG1pbnV0ZScsICgpID0+IHtcbiAgICBjb25zdCBzdGFydCA9ICcyMDI0LTAxLTE1VDExOjU5OjE1Wic7XG4gICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyKHN0YXJ0LCBudWxsLCBwcm92aWRlcikpLnRvQmUoJzAwOjAwOjQ1Jyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGR1cmF0aW9uIGxlc3MgdGhhbiBhbiBob3VyJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gJzIwMjQtMDEtMTVUMTE6MzA6MDBaJztcbiAgICBleHBlY3QoZm9ybWF0RHVyYXRpb25XaXRoUHJvdmlkZXIoc3RhcnQsIG51bGwsIHByb3ZpZGVyKSkudG9CZSgnMDA6MzA6MDAnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgZHVyYXRpb25zJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gJzIwMjQtMDEtMTRUMDA6MDA6MDBaJztcbiAgICBleHBlY3QoZm9ybWF0RHVyYXRpb25XaXRoUHJvdmlkZXIoc3RhcnQsIG51bGwsIHByb3ZpZGVyKSkudG9CZSgnMzY6MDA6MDAnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgYWJzb2x1dGUgZGlmZmVyZW5jZShlbmQgYmVmb3JlIHN0YXJ0KScsICgpID0+IHtcbiAgICBjb25zdCBzdGFydCA9ICcyMDI0LTAxLTE1VDE0OjAwOjAwWic7XG4gICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uV2l0aFByb3ZpZGVyKHN0YXJ0LCBudWxsLCBwcm92aWRlcikpLnRvQmUoJzAyOjAwOjAwJyk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUEsT0FBTyxFQUFFQztBQUEyQixDQUFDLEdBQUdDLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQztBQUN2RixNQUFNO0VBQUVGLE9BQU8sRUFBRUc7QUFBbUIsQ0FBQyxHQUFHRCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFFdkVFLFFBQVEsQ0FBQyw0QkFBNEIsRUFBRSxNQUFNO0VBQzNDLE1BQU1DLFFBQVEsR0FBRyxJQUFJQyxJQUFJLENBQUMsc0JBQXNCLENBQUM7RUFDakQsTUFBTUMsUUFBUSxHQUFHSixrQkFBa0IsQ0FBQyxNQUFNRSxRQUFRLENBQUM7RUFFbkRHLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxNQUFNO0lBQ3RELE1BQU1DLEtBQUssR0FBRyxzQkFBc0I7SUFDcEMsTUFBTUMsR0FBRyxHQUFHLHNCQUFzQjtJQUNsQ0MsTUFBTSxDQUFDViwwQkFBMEIsQ0FBQ1EsS0FBSyxFQUFFQyxHQUFHLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQ2pFLENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsNkRBQTZELEVBQUUsTUFBTTtJQUN0RSxNQUFNQyxLQUFLLEdBQUcsc0JBQXNCO0lBQ3BDRSxNQUFNLENBQUNWLDBCQUEwQixDQUFDUSxLQUFLLEVBQUUsSUFBSSxFQUFFRixRQUFRLENBQUMsQ0FBQyxDQUFDSyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzVFLENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsNENBQTRDLEVBQUUsTUFBTTtJQUNyREcsTUFBTSxDQUFDViwwQkFBMEIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDVyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzNELENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsNkNBQTZDLEVBQUUsTUFBTTtJQUN0REcsTUFBTSxDQUFDViwwQkFBMEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDVyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQ3pELENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsK0NBQStDLEVBQUUsTUFBTTtJQUN4REcsTUFBTSxDQUFDViwwQkFBMEIsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDVyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQ25FLENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsNkNBQTZDLEVBQUUsTUFBTTtJQUN0REcsTUFBTSxDQUFDViwwQkFBMEIsQ0FBQyxzQkFBc0IsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDVyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzNGLENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsMkNBQTJDLEVBQUUsTUFBTTtJQUNwRCxNQUFNQyxLQUFLLEdBQUcsc0JBQXNCO0lBQ3BDRSxNQUFNLENBQUNWLDBCQUEwQixDQUFDUSxLQUFLLEVBQUUsSUFBSSxFQUFFRixRQUFRLENBQUMsQ0FBQyxDQUFDSyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzVFLENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsMENBQTBDLEVBQUUsTUFBTTtJQUNuRCxNQUFNQyxLQUFLLEdBQUcsc0JBQXNCO0lBQ3BDRSxNQUFNLENBQUNWLDBCQUEwQixDQUFDUSxLQUFLLEVBQUUsSUFBSSxFQUFFRixRQUFRLENBQUMsQ0FBQyxDQUFDSyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzVFLENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMsK0JBQStCLEVBQUUsTUFBTTtJQUN4QyxNQUFNQyxLQUFLLEdBQUcsc0JBQXNCO0lBQ3BDRSxNQUFNLENBQUNWLDBCQUEwQixDQUFDUSxLQUFLLEVBQUUsSUFBSSxFQUFFRixRQUFRLENBQUMsQ0FBQyxDQUFDSyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzVFLENBQUMsQ0FBQztFQUVGSixFQUFFLENBQUMscURBQXFELEVBQUUsTUFBTTtJQUM5RCxNQUFNQyxLQUFLLEdBQUcsc0JBQXNCO0lBQ3BDRSxNQUFNLENBQUNWLDBCQUEwQixDQUFDUSxLQUFLLEVBQUUsSUFBSSxFQUFFRixRQUFRLENBQUMsQ0FBQyxDQUFDSyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQzVFLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==