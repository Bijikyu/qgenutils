{"version":3,"names":["validateEmail","hashPassword","verifyPassword","memoize","debounce","formatDateTime","ensureProtocol","formatFileSize","createApiKeyValidator","createRateLimiter","describe","it","result","expect","toBe","hash","salt","isValid","callCount","expensiveFn","n","memoizedFn","done","debouncedFn","setTimeout","toHaveProperty","formatted","processed","validator","headerName","required","limiter","windowMs","max"],"sources":["core-functionality.test.js"],"sourcesContent":["/**\n * Integration Tests for QGenUtils Core Functionality\n * \n * Tests real-world usage scenarios and integration between utilities\n */\n\n// Import utilities individually to avoid ES module issues\nimport { validateEmail } from '../../lib/utilities/validation/validateEmail.js';\nimport { hashPassword } from '../../lib/utilities/password/hashPassword.js';\nimport { verifyPassword } from '../../lib/utilities/password/verifyPassword.js';\nimport { memoize } from '../../lib/utilities/performance/memoize.js';\nimport { debounce } from '../../lib/utilities/performance/debounce.js';\nimport { formatDateTime } from '../../lib/utilities/datetime/formatDateTime.js';\nimport { ensureProtocol } from '../../lib/utilities/url/ensureProtocol.js';\nimport { formatFileSize } from '../../lib/utilities/file/formatFileSize.js';\nimport { createApiKeyValidator } from '../../lib/utilities/middleware/createApiKeyValidator.js';\nimport { createRateLimiter } from '../../lib/utilities/middleware/createRateLimiter.js';\n\ndescribe('QGenUtils Integration Tests', () => {\n  describe('Security Integration', () => {\n    it('should validate email format', () => {\n      const result = validateEmail('user@example.com');\n      expect(result).toBe(true);\n    });\n\n    it('should hash and verify passwords', async () => {\n      const { hash, salt } = await hashPassword('testPassword123!');\n      const isValid = await verifyPassword('testPassword123!', hash, salt);\n      expect(isValid).toBe(true);\n    });\n  });\n\n  describe('Performance Integration', () => {\n    it('should memoize expensive functions', () => {\n      let callCount = 0;\n      const expensiveFn = (n) => {\n        callCount++;\n        return n * 2;\n      };\n      \n      const memoizedFn = memoize(expensiveFn);\n      \n      // First call should execute function\n      expect(memoizedFn(5)).toBe(10);\n      expect(callCount).toBe(1);\n      \n      // Second call should use cache\n      expect(memoizedFn(5)).toBe(10);\n      expect(callCount).toBe(1);\n    });\n\n    it('should debounce function calls', (done) => {\n      let callCount = 0;\n      const debouncedFn = debounce(() => {\n        callCount++;\n      }, 100);\n      \n      debouncedFn();\n      debouncedFn();\n      \n      // Should only call once due to debouncing\n      setTimeout(() => {\n        expect(callCount).toBe(1);\n        done();\n      }, 150);\n    });\n  });\n\n  describe('Utility Integration', () => {\n    it('should format date time properly', () => {\n      const result = formatDateTime('2023-12-25T10:30:00.000Z');\n      expect(result).toHaveProperty('formatted');\n      expect(typeof result.formatted).toBe('string');\n    });\n\n    it('should ensure protocol in URLs', () => {\n      const result = ensureProtocol('example.com');\n      expect(result).toHaveProperty('processed');\n      expect(result.processed).toBe('https://example.com');\n    });\n\n    it('should format file sizes', () => {\n      const result = formatFileSize(1024);\n      expect(result).toBe('1.00 KB');\n    });\n  });\n\n  describe('Middleware Integration', () => {\n    it('should create API key validator', () => {\n      const validator = createApiKeyValidator({\n        headerName: 'X-API-Key',\n        required: true\n      });\n      \n      expect(typeof validator).toBe('function');\n    });\n\n    it('should create rate limiter', () => {\n      const limiter = createRateLimiter({\n        windowMs: 60000,\n        max: 100\n      });\n      \n      expect(typeof limiter).toBe('function');\n    });\n  });\n});"],"mappings":"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","ignoreList":[]}