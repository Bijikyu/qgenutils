0d52d523a3fcf319a01fe5505cf92e08
const {
  default: debounce
} = require('./debounce');
describe('debounce', () => {
  beforeEach(() => {
    jest.useFakeTimers();
  });
  afterEach(() => {
    jest.useRealTimers();
  });
  it('should delay execution', () => {
    const fn = jest.fn();
    const debounced = debounce(fn, 100);
    debounced();
    expect(fn).not.toHaveBeenCalled();
    jest.advanceTimersByTime(100);
    expect(fn).toHaveBeenCalledTimes(1);
  });
  it('should reset delay on each call', () => {
    const fn = jest.fn();
    const debounced = debounce(fn, 100);
    debounced();
    jest.advanceTimersByTime(50);
    debounced();
    jest.advanceTimersByTime(50);
    debounced();
    expect(fn).not.toHaveBeenCalled();
    jest.advanceTimersByTime(100);
    expect(fn).toHaveBeenCalledTimes(1);
  });
  it('should pass latest arguments', () => {
    const fn = jest.fn();
    const debounced = debounce(fn, 100);
    debounced('a');
    debounced('b');
    debounced('c');
    jest.advanceTimersByTime(100);
    expect(fn).toHaveBeenCalledWith('c');
  });
  it('should allow multiple separate calls', () => {
    const fn = jest.fn();
    const debounced = debounce(fn, 100);
    debounced();
    jest.advanceTimersByTime(100);
    debounced();
    jest.advanceTimersByTime(100);
    expect(fn).toHaveBeenCalledTimes(2);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwiZGVib3VuY2UiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiamVzdCIsInVzZUZha2VUaW1lcnMiLCJhZnRlckVhY2giLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJmbiIsImRlYm91bmNlZCIsImV4cGVjdCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJhZHZhbmNlVGltZXJzQnlUaW1lIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiXSwic291cmNlcyI6WyJkZWJvdW5jZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZGVmYXVsdDogZGVib3VuY2UgfSA9IHJlcXVpcmUoJy4vZGVib3VuY2UnKTtcblxuZGVzY3JpYmUoJ2RlYm91bmNlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkZWxheSBleGVjdXRpb24nLCAoKSA9PiB7XG4gICAgY29uc3QgZm4gPSBqZXN0LmZuKCk7XG4gICAgY29uc3QgZGVib3VuY2VkID0gZGVib3VuY2UoZm4sIDEwMCk7XG4gICAgZGVib3VuY2VkKCk7XG4gICAgZXhwZWN0KGZuKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDApO1xuICAgIGV4cGVjdChmbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlc2V0IGRlbGF5IG9uIGVhY2ggY2FsbCcsICgpID0+IHtcbiAgICBjb25zdCBmbiA9IGplc3QuZm4oKTtcbiAgICBjb25zdCBkZWJvdW5jZWQgPSBkZWJvdW5jZShmbiwgMTAwKTtcbiAgICBkZWJvdW5jZWQoKTtcbiAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoNTApO1xuICAgIGRlYm91bmNlZCgpO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSg1MCk7XG4gICAgZGVib3VuY2VkKCk7XG4gICAgZXhwZWN0KGZuKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDApO1xuICAgIGV4cGVjdChmbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHBhc3MgbGF0ZXN0IGFyZ3VtZW50cycsICgpID0+IHtcbiAgICBjb25zdCBmbiA9IGplc3QuZm4oKTtcbiAgICBjb25zdCBkZWJvdW5jZWQgPSBkZWJvdW5jZShmbiwgMTAwKTtcbiAgICBkZWJvdW5jZWQoJ2EnKTtcbiAgICBkZWJvdW5jZWQoJ2InKTtcbiAgICBkZWJvdW5jZWQoJ2MnKTtcbiAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwKTtcbiAgICBleHBlY3QoZm4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYWxsb3cgbXVsdGlwbGUgc2VwYXJhdGUgY2FsbHMnLCAoKSA9PiB7XG4gICAgY29uc3QgZm4gPSBqZXN0LmZuKCk7XG4gICAgY29uc3QgZGVib3VuY2VkID0gZGVib3VuY2UoZm4sIDEwMCk7XG4gICAgZGVib3VuY2VkKCk7XG4gICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMCk7XG4gICAgZGVib3VuY2VkKCk7XG4gICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMCk7XG4gICAgZXhwZWN0KGZuKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUEsT0FBTyxFQUFFQztBQUFTLENBQUMsR0FBR0MsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUVuREMsUUFBUSxDQUFDLFVBQVUsRUFBRSxNQUFNO0VBQ3pCQyxVQUFV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