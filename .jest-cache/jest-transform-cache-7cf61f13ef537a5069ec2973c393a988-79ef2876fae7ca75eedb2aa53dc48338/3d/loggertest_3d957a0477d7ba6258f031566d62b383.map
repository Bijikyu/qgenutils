{"version":3,"names":["require","qtests","winston","DailyRotateFile","reload","cache","resolve","describe","test","captured","restore","stubMethod","cfg","transports","debug","info","error","hasRotate","some","t","expect","toBe"],"sources":["logger.test.js"],"sourcesContent":["require('qtests/setup');\nconst qtests = require('qtests');\nconst winston = require('winston');\nconst DailyRotateFile = require('winston-daily-rotate-file');\n\nfunction reload() {\n  delete require.cache[require.resolve('./logger')];\n  return require('./logger');\n}\n\ndescribe('Logger Utility', () => {\n  test('verifies should configure DailyRotateFile transport', () => {\n    let captured;\n    const restore = qtests.stubMethod(winston, 'createLogger', cfg => {\n      captured = cfg;\n      return {\n        transports: cfg.transports,\n        debug() {},\n        info() {},\n        error() {}\n      };\n    });\n    reload();\n    restore();\n    const hasRotate = captured.transports.some(t => t instanceof DailyRotateFile);\n    expect(hasRotate).toBe(true);\n  });\n});\n"],"mappings":"AAAAA,OAAO,CAAC,cAAc,CAAC;AACvB,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAME,OAAO,GAAGF,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMG,eAAe,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AAE5D,SAASI,MAAMA,CAAA,EAAG;EAChB,OAAOJ,OAAO,CAACK,KAAK,CAACL,OAAO,CAACM,OAAO,CAAC,UAAU,CAAC,CAAC;EACjD,OAAON,OAAO,CAAC,UAAU,CAAC;AAC5B;AAEAO,QAAQ,CAAC,gBAAgB,EAAE,MAAM;EAC/BC,IAAI,CAAC,qDAAqD,EAAE,MAAM;IAChE,IAAIC,QAAQ;IACZ,MAAMC,OAAO,GAAGT,MAAM,CAACU,UAAU,CAACT,OAAO,EAAE,cAAc,EAAEU,GAAG,IAAI;MAChEH,QAAQ,GAAGG,GAAG;MACd,OAAO;QACLC,UAAU,EAAED,GAAG,CAACC,UAAU;QAC1BC,KAAKA,CAAA,EAAG,CAAC,CAAC;QACVC,IAAIA,CAAA,EAAG,CAAC,CAAC;QACTC,KAAKA,CAAA,EAAG,CAAC;MACX,CAAC;IACH,CAAC,CAAC;IACFZ,MAAM,CAAC,CAAC;IACRM,OAAO,CAAC,CAAC;IACT,MAAMO,SAAS,GAAGR,QAAQ,CAACI,UAAU,CAACK,IAAI,CAACC,CAAC,IAAIA,CAAC,YAAYhB,eAAe,CAAC;IAC7EiB,MAAM,CAACH,SAAS,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}