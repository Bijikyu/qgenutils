1dbc914fa1e8149fe1ad66fdb2f5bc4d
const {
  default: throttle
} = require('./throttle');
describe('throttle', () => {
  beforeEach(() => {
    jest.useFakeTimers();
  });
  afterEach(() => {
    jest.useRealTimers();
  });
  it('should call immediately on first call', () => {
    const fn = jest.fn();
    const throttled = throttle(fn, 100);
    throttled();
    expect(fn).toHaveBeenCalledTimes(1);
  });
  it('should throttle subsequent calls', () => {
    const fn = jest.fn();
    const throttled = throttle(fn, 100);
    throttled();
    throttled();
    throttled();
    expect(fn).toHaveBeenCalledTimes(1);
  });
  it('should call after delay', () => {
    const fn = jest.fn();
    const throttled = throttle(fn, 100);
    throttled('a');
    expect(fn).toHaveBeenCalledWith('a');
    jest.advanceTimersByTime(50);
    throttled('b');
    jest.advanceTimersByTime(100);
    expect(fn).toHaveBeenCalledWith('b');
  });
  it('should pass arguments', () => {
    const fn = jest.fn();
    const throttled = throttle(fn, 100);
    throttled(1, 2, 3);
    expect(fn).toHaveBeenCalledWith(1, 2, 3);
  });
  it('should allow call after delay passes', () => {
    const fn = jest.fn();
    const throttled = throttle(fn, 100);
    throttled();
    jest.advanceTimersByTime(150);
    throttled();
    expect(fn).toHaveBeenCalledTimes(2);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwidGhyb3R0bGUiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiamVzdCIsInVzZUZha2VUaW1lcnMiLCJhZnRlckVhY2giLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJmbiIsInRocm90dGxlZCIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYWR2YW5jZVRpbWVyc0J5VGltZSJdLCJzb3VyY2VzIjpbInRocm90dGxlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBkZWZhdWx0OiB0aHJvdHRsZSB9ID0gcmVxdWlyZSgnLi90aHJvdHRsZScpO1xuXG5kZXNjcmliZSgndGhyb3R0bGUnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgaW1tZWRpYXRlbHkgb24gZmlyc3QgY2FsbCcsICgpID0+IHtcbiAgICBjb25zdCBmbiA9IGplc3QuZm4oKTtcbiAgICBjb25zdCB0aHJvdHRsZWQgPSB0aHJvdHRsZShmbiwgMTAwKTtcbiAgICB0aHJvdHRsZWQoKTtcbiAgICBleHBlY3QoZm4pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0aHJvdHRsZSBzdWJzZXF1ZW50IGNhbGxzJywgKCkgPT4ge1xuICAgIGNvbnN0IGZuID0gamVzdC5mbigpO1xuICAgIGNvbnN0IHRocm90dGxlZCA9IHRocm90dGxlKGZuLCAxMDApO1xuICAgIHRocm90dGxlZCgpO1xuICAgIHRocm90dGxlZCgpO1xuICAgIHRocm90dGxlZCgpO1xuICAgIGV4cGVjdChmbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgYWZ0ZXIgZGVsYXknLCAoKSA9PiB7XG4gICAgY29uc3QgZm4gPSBqZXN0LmZuKCk7XG4gICAgY29uc3QgdGhyb3R0bGVkID0gdGhyb3R0bGUoZm4sIDEwMCk7XG4gICAgdGhyb3R0bGVkKCdhJyk7XG4gICAgZXhwZWN0KGZuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnYScpO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSg1MCk7XG4gICAgdGhyb3R0bGVkKCdiJyk7XG4gICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMCk7XG4gICAgZXhwZWN0KGZuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnYicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHBhc3MgYXJndW1lbnRzJywgKCkgPT4ge1xuICAgIGNvbnN0IGZuID0gamVzdC5mbigpO1xuICAgIGNvbnN0IHRocm90dGxlZCA9IHRocm90dGxlKGZuLCAxMDApO1xuICAgIHRocm90dGxlZCgxLCAyLCAzKTtcbiAgICBleHBlY3QoZm4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEsIDIsIDMpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGFsbG93IGNhbGwgYWZ0ZXIgZGVsYXkgcGFzc2VzJywgKCkgPT4ge1xuICAgIGNvbnN0IGZuID0gamVzdC5mbigpO1xuICAgIGNvbnN0IHRocm90dGxlZCA9IHRocm90dGxlKGZuLCAxMDApO1xuICAgIHRocm90dGxlZCgpO1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTApO1xuICAgIHRocm90dGxlZCgpO1xuICAgIGV4cGVjdChmbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBLE9BQU8sRUFBRUM7QUFBUyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFFbkRDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsTUFBTTtFQUN6QkMsVUFBVSxDQUFDLE1BQU07SUFDZkMsSUFBSSxDQUFD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